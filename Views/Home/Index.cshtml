@{
    ViewData["Title"] = "Home Page";
    var products = ViewBag.products as IQueryable<AppMvc.Net.Models.Product>;
    var posts = ViewBag.posts as IQueryable<AppMvc.Net.Models.Post>;
}
<partial name="_AlertMessage" />
<h2>Các sản phẩm</h2>
<div class="d-flex flex-wrap justify-content-between">
  @foreach (var product in products)
{
  var srcImg = "/contents/noimage.jpg";
  if(product.Photos.Any())
  {
    srcImg = $"/contents/Products/{product.Photos.FirstOrDefault().FileName}";
  }
    <div class="card mb-2" style="width: 24%;">
      <img src="@srcImg" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">@product.Title</h5>
        <p class="card-text">@product.Description.</p>
        <p><strong class="text-danger">@product.ProductCategoryProducts.FirstOrDefault()?.Category.Title</strong></p>
        <p>Gia: <strong>@product.Price</strong></p>
        <div class="card-body">
          <a class="card-link" asp-area="Product" asp-action="Detail" asp-controller="ViewProduct" asp-route-productslug="@product.Slug">Chi
            tiet</a>
          <a asp-action="AddToCart" asp-area = "Product" asp-controller="ViewProduct" asp-route-productid="@product.ProductId" class="btn btn-primary ml-4">Dat hang</a>
        </div>
      </div>
    </div>

}

</div>
<h2>Tin tức</h2>
@foreach(var post in posts)
{
  
<div class="d-flex align-items-cente border-bottom mb-3 pb-3">
  <div class="flex-shrink-0">
    <img src="/contents/noimage.jpg" alt="..." class="mr-3" style="width: 80px;">
  </div>
  <div class="flex-grow-1 ms-3">
    <h5 class="mt-0">
        <a asp-area="Blog" asp-action="Detail" asp-controller="ViewPost" asp-route-postslug="@post.Slug">@post.Title</a>
    </h5>
   @post.Description
   <div>
    Chủ đề:
     <strong class="text-danger">@post.PostCategories.FirstOrDefault()?.Category.Title</strong> 
   </div>
   <div class="author-row">
    Tác giả: <strong>@post.Author</strong>|
    Ngày cập nhật: <i>@post.DateUpdated.ToShortDateString()</i>

   </div>
  </div>
</div>

}
@* <div class="text-center">
    <h1 class="display-4">Xin chao</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div> *@

@* <p>
    @Url.ActionLink()
</p>
<p>
    @Url.Action()
</p>
<p>
    @Url.Action("Privacy", new { id = 123, name = "XuanThuLab" })
</p>
<p>
    @Url.Action("Jupiter", "Planet")
</p>
<p>
    @Url.Action("PlanetInfo", "Planet", new { id = 3 })
</p>

<p>
    @Url.Action("Index", "Product", new { area = "ProductManage", id = 123 })
</p>
<p>
    @Url.RouteUrl("default", new { action = "HelloView", controller = "Home", id = 123, name = "XuanThuLab" })
</p>
<p>
    @Url.RouteUrl("neptune2")
</p>
<a asp-action="ViewProduct" asp-controller="First">Vi du 1</a>
<a asp-action="PlanetInfo" asp-controller="Planet" asp-route-id="3">vi du 2</a>
<a asp-action="PlanetInfo" asp-controller="Planet" asp-route-id="3" asp-route-name="xuanthulab" asp-route-abc="xyz">vi
    du 3</a>
@{
    var routedata = new Dictionary<string, string>(){
{"name", "xuanthulab"}, {"abc", "xyz"},{"id", "3"}
};
}
<a asp-action="PlanetInfo" asp-controller="Planet" asp-all-route-data="@routedata">vi du 4</a>
<a asp-action="PlanetInfo" asp-controller="Planet" asp-all-route-data='new Dictionary<string,string>(){
        {"name", "xuanthulab"}, {"abc", "xyz"},{"id", "3"}
        };'>vi du 5</a>
<a asp-action="Index" asp-controller="Product" asp-area="ProductManage" asp-all-route-data='new Dictionary<string,string>(){
        {"name", "xuanthulab"}, {"abc", "xyz"},{"id", "3"}
        };'>vi du 6</a>
<br>
<textarea name="" id="summernote"></textarea>
<textarea name="" id="summernote2"></textarea> *@

@* @section Scripts {
<script src="~/lib/summernote/summernote-bs5.min.js"></script>
<link rel="stylesheet" href="~/lib/summernote/summernote-bs5.min.css">
} *@

@* <script src="~/lib/summernote/summernote-bs5.min.js"></script>
<link rel="stylesheet" href="~/lib/summernote/summernote-bs5.min.css">
<script>
    $(document).ready(function () {
        $('#summernote').summernote({
            placeholder: 'Hello stand alone ui',
            tabsize: 2,
            height: 120,
            toolbar: [
                ['style', ['style']],
                ['font', ['bold', 'underline', 'clear']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview', 'help']]
            ]
        });

    });




</script> *@
 @* @{
    var summernote = new AppMvc.Net.Models.Summernote("#summernote");
    var summernote2 = new AppMvc.Net.Models.Summernote("#summernote2", false);
}
<partial name="_Summernote"model="summernote"/>
<partial name="_Summernote"model="summernote2"/>
<i class="fas fa-folder" style="font-size: 250px; color: red;"></i> *@
